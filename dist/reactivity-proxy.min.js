/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	// The require scope
/******/ 	var __webpack_require__ = {};
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
/*!********************************!*\
  !*** ./lib/ReactivityProxy.js ***!
  \********************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ReactivityProxy: () => (/* binding */ ReactivityProxy)
/* harmony export */ });
class ReactivityProxy{constructor(){this.state=new Proxy({},{set:(a,b,c)=>(a[b]=c,this.resolve(),!0)}),this.handleClick(),this.handleChange()}handleText(){const a=(a,b)=>{let c=document.querySelectorAll(`[data-${a.join("-")}]`);c.forEach(a=>{a.hasAttribute("src")?a.setAttribute("src",b):a.innerText=b})},b=(c,d=[])=>{Object.keys(c).forEach(e=>{const f=[...d,e];"object"==typeof c[e]&&null!==c[e]?b(c[e],f):a(f,c[e])})};b(this.state)}handleClick(){document.querySelectorAll("[data-click]").forEach(a=>{a.addEventListener("click",()=>{try{const b=a.getAttribute("data-click"),c=new Function("state",`return ${b}`)(this.state);"function"==typeof c&&c()}catch(a){console.error("Erro em data-click:",a)}})})}handleChange(){document.querySelectorAll("[data-change]").forEach(a=>{a.addEventListener("input",b=>{try{const c=a.getAttribute("data-change"),d=new Function("state",`return ${c}`)(this.state);"function"==typeof d&&d(b.target.value)}catch(a){console.error("Erro em data-change:",a)}})})}handleConditional(){document.querySelectorAll("[data-if]").forEach(a=>{try{const b=new Function("state",`return ${a.getAttribute("data-if")}`);a.style.display=b(this.state)?"":"none"}catch(a){console.error("Erro em data-if:",a)}})}handleEach(){document.querySelectorAll("[data-for]").forEach(item=>{const output=[],tpl=item.innerHTML,expression=item.getAttribute("data-for").split(" of "),data=eval("this."+expression[1]);data&&(data.map(a=>{const b=this.createElement(tpl);b.removeAttribute("data-for");const c=(a,d=[])=>{Object.keys(a).forEach(f=>{const g=[...d,f];if("object"==typeof a[f]&&null!==a[f])c(a[f],g);else{const c=`[data-${expression[0]}-${g.join("-")}]`;b.querySelectorAll(c).forEach(b=>{b.hasAttribute("src")?b.setAttribute("src",a[f]):b.innerText=a[f]})}})};c(a),output.push(b)}),item.innerHTML="",output.forEach(a=>item.appendChild(a)))})}createElement(a){const b=document.createElement("template");return b.innerHTML=a.trim(),b.content.firstElementChild}set(a){this.state=a,this.resolve()}change(a,b){this.state[a]=b,this.resolve()}push(a,b){this.state[a].push(b),this.resolve()}get(){return this.state}resolve(){this.handleText(),this.handleConditional(),this.handleEach()}}
/******/ })()
;
//# sourceMappingURL=reactivity-proxy.min.js.map