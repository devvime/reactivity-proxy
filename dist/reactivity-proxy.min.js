(()=>{"use strict";var __webpack_require__={d:(t,e)=>{for(var r in e)__webpack_require__.o(e,r)&&!__webpack_require__.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},__webpack_exports__={};class ReactivityProxy{constructor(){this.state=new Proxy({},{set:(t,e,r)=>(t[e]=r,this.resolve(),!0)}),this.handleClick(),this.handleChange()}handleText(){const t=(e,r=[])=>{Object.keys(e).forEach((a=>{const n=[...r,a];"object"==typeof e[a]&&null!==e[a]?t(e[a],n):((t,e)=>{document.querySelectorAll(`[data-${t.join("-")}]`).forEach((t=>{t.hasAttribute("src")?t.setAttribute("src",e):t.innerText=e}))})(n,e[a])}))};t(this.state)}handleClick(){document.querySelectorAll("[data-click]").forEach((t=>{t.addEventListener("click",(()=>{try{const e=t.getAttribute("data-click"),r=new Function("state",`return ${e}`)(this.state);"function"==typeof r&&r()}catch(t){console.error("Erro em data-click:",t)}}))}))}handleChange(){document.querySelectorAll("[data-change]").forEach((t=>{t.addEventListener("input",(e=>{try{const r=t.getAttribute("data-change"),a=new Function("state",`return ${r}`)(this.state);"function"==typeof a&&a(e.target.value)}catch(t){console.error("Erro em data-change:",t)}}))}))}handleConditional(){document.querySelectorAll("[data-if]").forEach((t=>{try{const e=new Function("state",`return ${t.getAttribute("data-if")}`);t.style.display=e(this.state)?"":"none"}catch(t){console.error("Erro em data-if:",t)}}))}handleEach(){document.querySelectorAll("[data-for]").forEach((item=>{const output=[],tpl=item.innerHTML,expression=item.getAttribute("data-for").split(" of "),data=eval("this."+expression[1]);data&&(data.map((t=>{const e=this.createElement(tpl);e.removeAttribute("data-for");const r=(t,a=[])=>{Object.keys(t).forEach((n=>{const o=[...a,n];if("object"==typeof t[n]&&null!==t[n])r(t[n],o);else{const r=`[data-${expression[0]}-${o.join("-")}]`;e.querySelectorAll(r).forEach((e=>{e.hasAttribute("src")?e.setAttribute("src",t[n]):e.innerText=t[n]}))}}))};r(t),output.push(e)})),item.innerHTML="",output.forEach((t=>item.appendChild(t))))}))}createElement(t){const e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstElementChild}set(t){this.state=t,this.resolve()}change(t,e){this.state[t]=e,this.resolve()}push(t,e){this.state[t].push(e),this.resolve()}get(){return this.state}resolve(){this.handleText(),this.handleConditional(),this.handleEach()}}})();
//# sourceMappingURL=reactivity-proxy.min.js.map